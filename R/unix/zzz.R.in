.onLoad <- function(lib, pkg)
{
    ## Load the rjags wrapper ...
    library.dynam("rjags", pkg, lib, local=FALSE)

    ## ... then the modules
    moddir <- "@JAGS_MODULES@"
    if (is.null(getOption("jags.moddir"))) {
        options("jags.moddir" = moddir)
    }
    load.module("basemod")
    load.module("bugs")

    ## Set progress bar type
    if (is.null(getOption("jags.pb"))) {
        options("jags.pb"="text")
    }
}

.onUnload <- function(libpath)
{
    library.dynam.unload("rjags", libpath)
}
